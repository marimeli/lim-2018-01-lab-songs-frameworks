(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,a){},18:function(t,e,a){t.exports=a(30)},23:function(t,e,a){},30:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a.n(n),c=a(4),s=a.n(c),o=(a(23),a(25),a(17)),l=a(5),i=a(6),m=a(8),u=a(7),f=a(9),p=(a(10),a(3)),h=function(t){function e(){var t,a;Object(l.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={collapsed:!0},a.toggleNavbar=function(){a.setState({collapsed:!a.state.collapsed})},a}return Object(f.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(p.g,{color:"faded",dark:!0},r.a.createElement(p.h,{href:"/",className:"mr-auto"},"Ranking Songs"),r.a.createElement(p.i,{onClick:this.toggleNavbar,className:"mr-2"}),r.a.createElement(p.b,{isOpen:!this.state.collapsed,navbar:!0},r.a.createElement(p.d,{navbar:!0},r.a.createElement(p.e,null,r.a.createElement(p.f,{href:"/components/"},"Artists")),r.a.createElement(p.e,null,r.a.createElement(p.f,{href:"https://github.com/reactstrap/reactstrap"},"Tracks"))))))}}]),e}(r.a.Component),d=function(t){var e=t.artist,a=t.nextArtist,n=t.previousArtist;return r.a.createElement(p.j,null,r.a.createElement(p.a,{xs:"12"},r.a.createElement("i",{className:"arrow previous fas fa-angle-left",onClick:n}),r.a.createElement("img",{src:e.image,alt:"artist_photo",className:"img-fluid"}),r.a.createElement("i",{className:"arrow next fas fa-angle-right",onClick:a}),r.a.createElement("h3",{className:"tc-white mt-3"},e.name)))},g=function(t){var e=t.track;return r.a.createElement(p.j,{className:"mb-3 pt-3 m-auto"},r.a.createElement(p.a,{className:"col-8 col-sm-7 text-left tc-yellow"},e.trackname),r.a.createElement(p.a,{className:"col-4 text-right tc-yellow"},r.a.createElement("p",null,e.count)))},v=function(t){function e(){var t,a;Object(l.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={artists:[],currentArtist:0},a.nextArtist=function(){var t=a.state,e=t.artists,n=t.currentArtist;++n>=e.length&&(n=0),a.setState({currentArtist:n})},a.previousArtist=function(){var t=a.state,e=t.artists,n=t.currentArtist;0===n?a.setState({currentArtist:e.length-1}):a.setState({currentArtist:n-1})},a}return Object(f.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){var t=this;fetch("https://ws.audioscrobbler.com/2.0/?method=chart.gettopartists&api_key=5f7e08a667109d3fc3fab0397a234d2a&format=json&limit=10").then(function(t){return t.json()}).then(function(e){var a=e.artists.artist.map(function(t){return{name:t.name,image:t.image[3]["#text"]}}),n=Object(o.a)(a).map(function(t){var e=t.name;return fetch("https://ws.audioscrobbler.com/2.0/?method=artist.gettoptracks&artist=".concat(e,"&api_key=5f7e08a667109d3fc3fab0397a234d2a&format=json")).then(function(t){return t.json()}).catch(function(t){return console.error(t)})});Promise.all(n).then(function(e){a.forEach(function(t,a){var n=e[a].toptracks.track;t.songs=n.map(function(t){return{trackname:t.name,count:t.playcount}})}),t.setState({artists:a})})})}},{key:"render",value:function(){var t=this;console.log("la data 29",this.state.artists);var e=this.state,a=e.artists,c=e.currentArtist;return r.a.createElement("div",{className:"App"},r.a.createElement(h,null),r.a.createElement(p.c,{className:"p-5"},r.a.createElement(p.j,{className:"mb-3 pt-3"},r.a.createElement(p.a,{className:"col-12 col-sm-6 m-auto wrap text-center"},a.length?a.map(function(e,a){return r.a.createElement(n.Fragment,null,r.a.createElement(d,{artist:e,key:a,previousArtist:t.previousArtist,nextArtist:t.nextArtist}),e.songs.map(function(t,e){return r.a.createElement(g,{track:t,key:e})}))})[c]:r.a.createElement("p",null," Cargando ...")))))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[18,2,1]]]);
//# sourceMappingURL=main.441db3c9.chunk.js.map